(this.webpackJsonp=this.webpackJsonp||[]).push([["frosh-platform-bunnycdn-media-storage"],{"2ctR":function(t,e){t.exports='<div>\n    <sw-button-process\n        :isLoading="isLoading"\n        :processSuccess="isSaveSuccessful"\n        @process-finish="saveFinish"\n        @click="check"\n    >{{ btnLabel }}</sw-button-process>\n</div>\n'},"3mrR":function(t){t.exports=JSON.parse('{"bunnycdn-api-test-button":{"title":"API Test","success":"Connection was successfully tested","error":"Connection could not be established. Please check the config."}}')},HPn4:function(t,e){const n=Shopware.Classes.ApiService,{Application:i}=Shopware;class s extends n{constructor(t,e,n="bunnycdn-api-test"){super(t,e,n)}check(t){const e=this.getBasicHeaders({});return this.httpClient.post(`_action/${this.getApiBasePath()}/check`,t,{headers:e}).then((t=>n.handleResponse(t)))}}i.addServiceProvider("bunnycdnApiTest",(t=>{const e=i.getContainer("init");return new s(e.httpClient,t.loginService)}))},NgvH:function(t){t.exports=JSON.parse('{"bunnycdn-api-test-button":{"title":"API Test","success":"Verbindung wurde erfolgreich getestet","error":"Verbindung konnte nicht hergestellt werden. Bitte prÃ¼fe die Konfiguration."}}')},"U7/G":function(t,e,n){"use strict";n.r(e);n("HPn4");var i=n("2ctR"),s=n.n(i);const{Component:c,Mixin:a}=Shopware;c.register("bunnycdn-api-test-button",{template:s.a,props:["btnLabel"],inject:["bunnycdnApiTest"],mixins:[a.getByName("notification")],data:()=>({isLoading:!1,isSaveSuccessful:!1}),computed:{pluginConfig(){let t=this.$parent.$parent.$parent.actualConfigData;return t?t.null:this.$parent.$parent.$parent.$parent.actualConfigData.null}},methods:{saveFinish(){this.isSaveSuccessful=!1},check(){this.isLoading=!0,this.bunnycdnApiTest.check(this.pluginConfig).then((t=>{t.success?(this.isSaveSuccessful=!0,this.createNotificationSuccess({title:this.$tc("bunnycdn-api-test-button.title"),message:this.$tc("bunnycdn-api-test-button.success")})):this.createNotificationError({title:this.$tc("bunnycdn-api-test-button.title"),message:this.$tc("bunnycdn-api-test-button.error")}),setTimeout((()=>{this.isLoading=!1}),2500)}))}}});n("YAuV");var o=n("NgvH"),r=n("3mrR");Shopware.Locale.extend("de-DE",o),Shopware.Locale.extend("en-GB",r)},YAuV:function(t,e){const{Component:n,Mixin:i}=Shopware;n.register("bunnycdn-config-restriction",{template:" ",created(){this.checkAndHideSetting()},updated(){this.checkAndHideSetting()},methods:{checkAndHideSetting(){const t=document.querySelectorAll('input[name^="FroshPlatformBunnycdnMediaStorage.config"],.sw-plugin-config__save-action');this.pluginConfigData().currentSalesChannelId?t.forEach((t=>{t.setAttribute("disabled","disabled")})):t.forEach((t=>{t.removeAttribute("disabled")}))},pluginConfigData(){return this.$parent.$parent.$parent.actualConfigData?this.$parent.$parent.$parent:this.$parent.$parent.$parent.$parent}}})}},[["U7/G","runtime"]]]);